source('~/1110-2_stock.R', echo=TRUE)
install.packages("dplyr")
data1
data1
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
install.packages("quantmod")
install.packages("quantmod")
source('~/1110-2_stock.R', echo=TRUE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
write(data1,file = "data/600519.csv")
write(data2,file = "data/600031.csv")
write(data3,file = "data/002157.csv")
getwd()
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
write(data1,file = "data/600519.csv")
write(data2,file = "data/600031.csv")
write(data3,file = "data/002157.csv")
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
library(quantmod)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-09",auto.assign = FALSE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = TRUE)
source('~/.active-rstudio-document', encoding = 'UTF-8', echo=TRUE)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = TRUE)
###讀取股票數據並存檔
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
###讀取股票數據並存檔
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
data3 <- getSymbols("002157.sz",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
write.csv(data1,file = "data/600519.csv")
write.csv(data1,file = "data/600031.csv")
write.csv(data1,file = "data/002157.csv")
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
write(data1,file = "data/600519.csv")
write(data2,file = "data/600031.csv")
write(data3,file = "data/002157.csv")
data1 <- getSymbols("600519.ss",src = "yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
###讀取股票數據並存檔
library(quantmod)
library(dplyr)
library(stringr)
###讀取股票數據並存檔
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
data1 <- getSymbols("600519.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src="yahoo",from="2007-01-01",to="2017-08-31",auto.assign = FALSE)
source('~/.active-rstudio-document', encoding = 'UTF-8', echo=TRUE)
source('~/.active-rstudio-document', encoding = 'UTF-8', echo=TRUE)
source('~/1110-2_stock.R', echo=TRUE)
source('~/1110-2_stock.R', echo=TRUE)
source('~/1110-2_stock.R', echo=TRUE)
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
write.csv(data1,file = "data/600519.csv")
write.csv(data2,file = "data/600031.csv")
write.csv(data3,file = "data/002157.csv")
?getSymbols
#
MT <- to.weekly(data1)
source('~/1110-2_stock.R', echo=TRUE)
MTclose <- cl(MT)
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
write.csv(data1,file = "data/600519.csv")
write.csv(data2,file = "data/600031.csv")
write.csv(data3,file = "data/002157.csv")
#
MT <- to.weekly(data1)
SY <- to.weekly(data2)
ZB <- to.weekly(data3)
MTclose <- cl(MT)
MTclose <- Cl(MT)
MTclose
MTrate10 <- (as.numeric((MTclose[554,1])-as.numeric(MTclose[1,1]))*100/as.numeric(MTclose[1,1])
MTrate10 <- ( as.numeric(MTclose[554,1]) - as.numeric(MTclose[1,1]))*100/as.numeric(MTclose[1,1] )
SYclose <- Cl(SY)
MTclose <- Cl(MT)
MTrate10 <- ( as.numeric(MTclose[554,1]) - as.numeric(MTclose[1,1]))*100/as.numeric(MTclose[1,1] )
MTrate10 <- round(MTrate10,2)
SYclose <- Cl(SY)
SYrate10 <- ( as.numeric(MTclose[554,]) - as.numeric(SYclose[1,1]))*100/as.numeric(SYclose[1,] )
SYrate10 <- round(MTrate10,2)
ZBclose <- Cl(ZB)
ZBrate10 <- ( as.numeric(ZBclose[429,]) - as.numeric(ZBclose[1,1]))*100/as.numeric(ZBclose[1,] )
ZBrate10 <- round(ZBrate10,2)
source('~/1110-2_stock.R', echo=TRUE)
ZBrate10
ZBrate10
library(quantmod)
library(dplyr)
library(stringr)
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
write.csv(data1,file = "data/600519.csv")
write.csv(data2,file = "data/600031.csv")
write.csv(data3,file = "data/002157.csv")
#
MT <- to.weekly(data1)
SY <- to.weekly(data2)
ZB <- to.weekly(data3)
MTclose <- Cl(MT)
MTrate10 <- ( as.numeric(MTclose[554,1]) - as.numeric(MTclose[1,1]))*100/as.numeric(MTclose[1,1] )
MTrate10 <- round(MTrate10,2)
SYclose <- Cl(SY)
SYrate10 <- ( as.numeric(MTclose[554,]) - as.numeric(SYclose[1,1]))*100/as.numeric(SYclose[1,] )
SYrate10 <- round(MTrate10,2)
ZBclose <- Cl(ZB)
ZBrate10 <- ( as.numeric(ZBclose[429,]) - as.numeric(ZBclose[1,1]))*100/as.numeric(ZBclose[1,] )
ZBrate10 <- round(ZBrate10,2)
chart_Series(cl(MT),name = "貴洲茅台")
chart_Series(cl(MT),name = "貴洲茅台")
chart_Series(Cl(MT),name = "貴洲茅台")
chart_Series(Cl(MT),name = "貴洲茅台")
chart_Series(Cl(SY),name = "三一重工")
chart_Series(Cl(ZB),name = "正邦科技")
chart_Series(Cl(MT),name = "貴洲茅台")
install.packages("quantmod")
install.packages("dplyr")
install.packages("stringr")
library(quantmod)
library(dplyr)
library(stringr)
install.packages("dplyr")
data1 <- getSymbols("600519.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data2 <- getSymbols("600031.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
data3 <- getSymbols("002157.ss",src = "yahoo",from="2010-01-01",to="2020-11-01",auto.assign = FALSE)
write.csv(data1,file = "data/600519.csv")
write.csv(data2,file = "data/600031.csv")
write.csv(data3,file = "data/002157.csv")
MT <- to.weekly(data1)
SY <- to.weekly(data2)
chartSeries(to.monthly(data1),name = "貴州茅台",theme = "white")
addATR()
addADX()
chart_Series(Cl(MT),name = "貴洲茅台")
addATR()
addADX()
chart_Series(Cl(MT),name = "貴洲茅台")
addATR()
addADX()
chart_Series(Cl(MT),name = "貴洲茅台")
addATR()
addADX()
均線20 <- runmed(AAPL[ ,4],n = 20)
均線60 <- runmed(AAPL[ ,4],n = 60)
addTA(均線20 ,on=1 ,col="blue")
source('~/1110-2_stock_US.R', echo=TRUE)
addTA(均線20 ,on=1 ,col="blue")
均線20 <- runmed(AAPL[ ,4],n = 20)
addTA(均線20 ,on=1 ,col="blue")
# 玩美股
#install.packages("quantmod")
library(quantmod)
getSymbols("AAPL")
chartSeries(AAPL)
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
均線20 <- runmed(AAPL[ ,4],n = 20)
addTA(均線20 ,on=1 ,col="blue")
# 玩美股
install.packages("quantmod")
install.packages("quantmod")
library(quantmod)
library(quantmod)
getSymbols("AAPL")
chartSeries(AAPL)
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
均線20 <- runmed(AAPL[ ,4],n = 20)
均線20 <- runmed(AAPL[ ,4],n = 20)
均線20 <- runMean(AAPL[ ,4],n = 20)
addTA(均線20 ,on=1 ,col="blue")
均線60 <- runMean(AAPL[ ,4],n = 60)
addTA(均線60 ,on=1 ,col="red")
#8
position <- Lag(ifelse(均線20>均線60,1,0))
return <- ROC(Cl(APPL))*position
return <- return['2017-03-30/2020-11-09']
return <- exp(cumsum(return))
plot(return)
均線20 <- runMean(AAPL[ ,4],n = 20)
均線60 <- runMean(AAPL[ ,4],n = 60)
addTA(均線20 ,on=1 ,col="blue")
addTA(均線60 ,on=1 ,col="red")
#8
position <- Lag(ifelse(均線20>均線60,1,0))
return <- ROC(Cl(APPL))*position
return <- return['2017-03-30/2020-11-09']
return <- exp(cumsum(return))
plot(return)
#8
position <- Lag(ifelse(均線20>均線60,1,0))
return <- ROC(Cl(APPL))*position
return
View(return)
source('~/1110-2_stock_US.R', echo=TRUE)
install.packages("quantmod")
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
均線20 <- runMean(AAPL[ ,4],n = 20)
均線60 <- runMean(AAPL[ ,4],n = 60)
addTA(均線20 ,on=1 ,col="blue")
addTA(均線60 ,on=1 ,col="red")
# 玩美股
install.packages("quantmod")
library(quantmod)
getSymbols("AAPL")
chartSeries(AAPL)
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
均線20 <- runMean(AAPL[ ,4],n = 20)
均線60 <- runMean(AAPL[ ,4],n = 60)
addTA(均線20 ,on=1 ,col="blue")
addTA(均線60 ,on=1 ,col="red")
#8
position <- Lag(ifelse(均線20>均線60,1,0))
return <- ROC(Cl(APPL))*position
return <- return['2017-03-30/2020-11-09']
return <- exp(cumsum(return))
plot(return)
install.packages("quantmod")
library(quantmod)
getSymbols("AAPL")
chartSeries(AAPL)
chartSeries(AAPL["2016-01::2020-11"],theme = "white")
均線20 <- runMean(AAPL[ ,4],n = 20)
均線60 <- runMean(AAPL[ ,4],n = 60)
addTA(均線20 ,on=1 ,col="blue")
addTA(均線60 ,on=1 ,col="red")
install.packages("quantmod")
#8
position <- Lag(ifelse(均線20>均線60,1,0))
return <- ROC(Cl(AAPL))*position
return <- return['2017-03-30/2020-11-09']
return <- exp(cumsum(return))
plot(return)
source('~/1110-2_stock_US.R', echo=TRUE)
